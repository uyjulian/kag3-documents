<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<!-- generated by to_html.pl from SaveLoad.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Let's support save / load</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="吉里吉里関連リファレンス用標準スタイル" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="トップページ" />
</head>
<body>
<h1><a id="id187" name="id187">KAG's Shiori</a>
</h1><div class="para"><div>
　KAG compares the save / load of a game to a &quot;?&quot; (If you are not satisfied with this notation, rewrite MainWindow.tjs.)<br />
<br />
　See also <a target="main" class="jump" href="SaveData.html">Regarding bookmark data</a> for bookmark data.<br />
<br />
　Unfortunately, saving and loading with KAG is not possible anywhere. Be sure to use the <a id="id188" name="id188" class="targanchor"><dfn>saveable label</dfn></a> as a landmark to save and load a &quot;place&quot;.<br />
<br />
　... However, the save / load itself can be done almost at any time with the menu &quot;Shiori Shiori&quot; and &quot;Follow the Shiori&quot; Will be saved.<br />
　Therefore, even if a player saves a little away from the &quot;place&quot;, when he loads it will start again from the last &quot;place&quot; that he passed.<br />
<br />
　The place for that save is the label. However, the label for the save location is written a little differently from a normal label.<br />
<br />
　See the example below.<br />
<br />

<br />
<code class="bq">[wait&nbsp;time=20]<br />
<em>*start|Start</em><br />
[cm]<br />
Here&nbsp;is&nbsp;the&nbsp;start[l][r]<br />
<br />
<em>*label2|Save&nbsp;location&nbsp;2</em><br />
[cm]<br />
This&nbsp;is&nbsp;save&nbsp;place&nbsp;2[l][r]<br />
<br />
<em>*label3|Save&nbsp;location&nbsp;3</em><br />
[cm]<br />
This&nbsp;is&nbsp;save&nbsp;place&nbsp;3[l][r]<br />
[jump&nbsp;target=*start]<br />
</code>
<br />

<br />
　In this way, specify | (vertical bar) after the label, and then add the name of the save location as &quot;<a id="id189" name="id189" class="targanchor"><dfn>headline</dfn></a>&quot;. Headings can have duplicate names. The headline is also displayed at the menu item in the &quot;insert bookmark&quot; menu, so it should be named easily for the user. Also, it is the default file name in free save mode.<br />
　If you want to jump to a label with | using a jump tag, do not specify anything after |. In the above, it is [jump target=*start], but when specifying a label with the target attribute like this, |<br />
<br />
　Headings can be omitted, for example:<br />

<br />
<code class="bq">*label|<br />
</code>
<br />

　In this case, the heading from the previous pass is taken over.<br />
<br />
　You can also add &amp; after | to make the contents of a variable a heading. For example,<br />

<br />
<code class="bq">*label|&amp;f.title<br />
</code>
<br />

　Will use the contents of the f.title variable as the heading.<br />
<br />
　Label names (parts before |) must not have duplicate names in the same scenario file (duplicate names in different scenario files are OK). On the other hand, headings are only handled internally, so it is OK if only the side who creates the scenario file is careful.<br />
　Also, be sure to write [cm] after such labels.<br />
<br /><div class="note"><div class="notehead"><span class="noteheadspan">Note</span></div>
　[ct] may be used instead of [cm]. The difference between the two is that ct sets the target message layer to message0 on the front page, while cm clears all message layers and does not change the target message layer.<br />
　You must write a tag to clear such a message layer because <em>what is written in the message layer is not saved in the bookmark</em>.<br />
　In addition, we recommend that you do not write between &quot;tags that take some time to process&quot; and &quot;tags that wait for it&quot;, such as writing a saveable label between the trans tag and the wt tag.</div><br />
<br />
　Also, it is not possible to save at a label where only the label name is normally written without |.<br />
<br />
　...this is the only thing to note <code class="inlinecode">(^^)</code><br />
<br />
　The more labels you save, the more places you can save. You just create a label, and you don't have to write a tag that jumps to it if you make it separately.<br />
　Note, however, that you must always write [cm] after such a label.<br />
<br /><div class="note"><div class="notehead"><span class="noteheadspan">Note</span></div>
　Internally, when a KAG passes through a (savable) label with |, the KAG saves its current state internally. When the user chooses to save the bookmark, the data at that time is saved.</div><br />
</div></div>
<h1><a id="id190" name="id190">Using the disablestore tag</a>
</h1><div class="para"><div>
　The <a id="id191" name="id191" class="targanchor"><dfn>disablestore</dfn></a> tag temporarily disables the &quot;insert bookmark&quot; feature.<br />
　There is no need to write saveable labels before entering the main game, for example, it is possible to save bookmarks in the main menu, etc., so there is no need to write in such places.<br />
　KAG will not be able to use the &quot;insert bookmark&quot; function if it has not passed a saveable label since it was started.<br />
　So, before entering the main part of the game, you do not have to write a saveable label anywhere, but if you finish the game and return to the main menu, you will have passed the saveable label And you can put a bookmark on the main menu.<br />
　In order to prevent this, do not write a saveable label until you enter the main game, and describe <code class="inlinecode">[disablestore]</code> in the main menu etc. to disable the function of &quot;insert bookmark&quot;.<br />
　If <code class="inlinecode">[disablestore]</code> is described, the &quot;insert bookmark&quot; function will not be available as long as it does not pass the saveable label, just like when starting KAG.<br />
</div></div>
<h1><a id="id192" name="id192">Using the startanchor tag</a>
</h1><div class="para"><div>
　The <a id="id193" name="id193" class="targanchor"><dfn>startanchor</dfn></a> tag enables the Back to Menu menu.<br />
　The menu bar in KAG has &quot;System | Return to beginning...&quot;.<br />
　This menu cannot be selected as it is.<br />
　To specify the return destination, write the <code class="inlinecode">[startanchor]</code> tag where you want to return when the &quot;return to first&quot; menu is selected. Write this tag after the saveable label. After this <code class="inlinecode">[startanchor]</code>, the &quot;Return to Start&quot; menu will be available.<br />
　If you do not want to use the &quot;return to the beginning&quot; function in the main menu, write <code class="inlinecode">[startanchor enabled=false]</code>. In this case, the &quot;return to the beginning&quot; function will be disabled unless you pass the <code class="inlinecode">[startanchor]</code> description again.<br />
<br />
　&quot;Return to the beginning&quot; is similar to following the bookmark at the location where the startanchor tag is written, except that all game variables <span class="comlink"> ( → <a target="main" class="jump" href="Var.html">Use variables</a> ) </span> are kept (retained).<br />
</div></div>
<h1><a id="id194" name="id194">Duplicate or omitted label names</a>
</h1><div class="para"><div>
　If the same label name (the part before |) is present in the same scenario file, the first label remains as it is, but the next label has A serial number such as <code class="inlinecode">:2</code> or <code class="inlinecode">:3</code> is automatically assigned.<br />
　For example,<br />
<br />

<br />
<code class="bq"><em>*start|Start</em><br />
<em>*start|Save&nbsp;location&nbsp;2</em><br />
<em>*start|Save&nbsp;location&nbsp;3</em><br />
</code>
<br />

<br />
The first *start is &quot;<code class="inlinecode">*start</code>&quot;, but if you want to jump to the next *start, use &quot;<code class="inlinecode">*start:2</code> in the target attribute etc. Next is &quot;<code class="inlinecode">*start:3</code>&quot;.<br />
<br />
　If you omit the label name, the same thing as the previous label name is assumed, and a serial number will be added.
　For example,<br />
<br />

<br />
<code class="bq"><em>*start|Start</em><br />
<em>*|Save&nbsp;location&nbsp;2</em><br />
<em>*|Save&nbsp;location&nbsp;3</em><br />
</code>
<br />

<br />
　The second label would be &quot;<code class="inlinecode">*start:2</code>&quot;. The third label is &quot;<code class="inlinecode">*start:3</code>&quot;.<br />
<br />
　If you omit both the label and the heading, the format will be as follows.<br />
<br />

<br />
<code class="bq"><em>*start|Start</em><br />
<em>*|</em><br />
<em>*|</em><br />
</code>
<br />

<br />
　This is convenient because it is not necessary to specify a different label name each time when writing a storable label, but since the labels are managed by serial numbers, edit the scenario file and change the number of labels in the middle. If you decrease or increase it, you may not be able to return to the original position when following the bookmark, or you may not be able to return to the original position with the return tag.<br />
<br />
<br /><div class="note"><div class="notehead"><span class="noteheadspan">Note</span></div>
If the heading is omitted, the heading of the saveable label that passed immediately before will be taken over, whereas if the label name is omitted, the previous label name in the scenario file will be used regardless of whether it has passed or not. Take over.<br />
</div><br />
</div></div>
	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>
